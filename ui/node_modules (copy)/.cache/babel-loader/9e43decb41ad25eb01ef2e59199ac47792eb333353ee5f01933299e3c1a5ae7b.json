{"ast":null,"code":"import createGraph from 'ngraph.graph';\nimport path from 'ngraph.path';\nclass PathFinder {\n  constructor(pairs) {\n    this.graph = createGraph();\n    pairs.forEach(pair => {\n      this.graph.addNode(pair.token0.address);\n      this.graph.addNode(pair.token1.address);\n      this.graph.addLink(pair.token0.address, pair.token1.address, pair.fee);\n      this.graph.addLink(pair.token1.address, pair.token0.address, pair.fee);\n    });\n    this.finder = path.aStar(this.graph);\n  }\n  findPath(fromToken, toToken) {\n    return this.finder.find(fromToken, toToken).reduce((acc, node, i, orig) => {\n      if (acc.length > 0) {\n        acc.push(this.graph.getLink(orig[i - 1].id, node.id).data);\n      }\n      acc.push(node.id);\n      return acc;\n    }, []).reverse();\n  }\n}\nexport default PathFinder;","map":{"version":3,"names":["createGraph","path","PathFinder","constructor","pairs","graph","forEach","pair","addNode","token0","address","token1","addLink","fee","finder","aStar","findPath","fromToken","toToken","find","reduce","acc","node","i","orig","length","push","getLink","id","data","reverse"],"sources":["/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/src/lib/pathFinder.js"],"sourcesContent":["import createGraph from 'ngraph.graph';\nimport path from 'ngraph.path';\n\nclass PathFinder {\n  constructor(pairs) {\n    this.graph = createGraph();\n\n    pairs.forEach((pair) => {\n      this.graph.addNode(pair.token0.address);\n      this.graph.addNode(pair.token1.address);\n      this.graph.addLink(pair.token0.address, pair.token1.address, pair.fee);\n      this.graph.addLink(pair.token1.address, pair.token0.address, pair.fee);\n    });\n\n    this.finder = path.aStar(this.graph);\n  }\n\n  findPath(fromToken, toToken) {\n    return this.finder.find(fromToken, toToken).reduce((acc, node, i, orig) => {\n      if (acc.length > 0) {\n        acc.push(this.graph.getLink(orig[i - 1].id, node.id).data);\n      }\n\n      acc.push(node.id);\n\n      return acc;\n    }, []).reverse();\n  }\n}\n\nexport default PathFinder;"],"mappings":"AAAA,OAAOA,WAAW,MAAM,cAAc;AACtC,OAAOC,IAAI,MAAM,aAAa;AAE9B,MAAMC,UAAU,CAAC;EACfC,WAAWA,CAACC,KAAK,EAAE;IACjB,IAAI,CAACC,KAAK,GAAGL,WAAW,EAAE;IAE1BI,KAAK,CAACE,OAAO,CAAEC,IAAI,IAAK;MACtB,IAAI,CAACF,KAAK,CAACG,OAAO,CAACD,IAAI,CAACE,MAAM,CAACC,OAAO,CAAC;MACvC,IAAI,CAACL,KAAK,CAACG,OAAO,CAACD,IAAI,CAACI,MAAM,CAACD,OAAO,CAAC;MACvC,IAAI,CAACL,KAAK,CAACO,OAAO,CAACL,IAAI,CAACE,MAAM,CAACC,OAAO,EAAEH,IAAI,CAACI,MAAM,CAACD,OAAO,EAAEH,IAAI,CAACM,GAAG,CAAC;MACtE,IAAI,CAACR,KAAK,CAACO,OAAO,CAACL,IAAI,CAACI,MAAM,CAACD,OAAO,EAAEH,IAAI,CAACE,MAAM,CAACC,OAAO,EAAEH,IAAI,CAACM,GAAG,CAAC;IACxE,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,GAAGb,IAAI,CAACc,KAAK,CAAC,IAAI,CAACV,KAAK,CAAC;EACtC;EAEAW,QAAQA,CAACC,SAAS,EAAEC,OAAO,EAAE;IAC3B,OAAO,IAAI,CAACJ,MAAM,CAACK,IAAI,CAACF,SAAS,EAAEC,OAAO,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,EAAEC,CAAC,EAAEC,IAAI,KAAK;MACzE,IAAIH,GAAG,CAACI,MAAM,GAAG,CAAC,EAAE;QAClBJ,GAAG,CAACK,IAAI,CAAC,IAAI,CAACrB,KAAK,CAACsB,OAAO,CAACH,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,CAACK,EAAE,EAAEN,IAAI,CAACM,EAAE,CAAC,CAACC,IAAI,CAAC;MAC5D;MAEAR,GAAG,CAACK,IAAI,CAACJ,IAAI,CAACM,EAAE,CAAC;MAEjB,OAAOP,GAAG;IACZ,CAAC,EAAE,EAAE,CAAC,CAACS,OAAO,EAAE;EAClB;AACF;AAEA,eAAe5B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}