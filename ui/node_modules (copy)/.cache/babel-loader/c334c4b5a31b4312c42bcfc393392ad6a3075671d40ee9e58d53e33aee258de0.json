{"ast":null,"code":"var _jsxFileName = \"/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/src/components/EventsFeed.js\",\n  _s = $RefreshSig$();\nimport { ethers } from \"ethers\";\nimport { useContext, useEffect, useReducer } from \"react\";\nimport { MetaMaskContext } from \"../contexts/MetaMask\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PoolABI = require('../abi/Pool.json');\nconst getEvents = pool => {\n  return Promise.all([pool.queryFilter(\"Burn\", \"earliest\", \"latest\"), pool.queryFilter(\"Collect\", \"earliest\", \"latest\"), pool.queryFilter(\"Mint\", \"earliest\", \"latest\"), pool.queryFilter(\"Swap\", \"earliest\", \"latest\")]).then(_ref => {\n    let [mints, swaps] = _ref;\n    return Promise.resolve((mints || []).concat(swaps || []));\n  });\n};\nconst subscribeToEvents = (pool, callback) => {\n  pool.on(\"Burn\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Collect\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Mint\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Swap\", (a, b, c, d, e, f, g, event) => callback(event));\n};\nconst renderAmount = amount => {\n  return ethers.utils.formatUnits(amount);\n};\nconst renderBurn = args => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"Burn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), \"[amount0: \", renderAmount(args.amount0), \", amount1: \", renderAmount(args.amount1), \", amount: \", renderAmount(args.amount), \"]\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\nconst renderCollect = args => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"Collect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), \"[amount0: \", renderAmount(args.amount0), \", amount1: \", renderAmount(args.amount1), \"]\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\nconst renderMint = args => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"Mint\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), \"[range: [\", args.tickLower, \"-\", args.tickUpper, \"], amounts: [\", renderAmount(args.amount0), \", \", renderAmount(args.amount1), \"]]\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\nconst renderSwap = args => {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"Swap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), \"[amount0: \", renderAmount(args.amount0), \", amount1: \", renderAmount(args.amount1), \"]\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\nconst renderEvent = (event, i) => {\n  let content;\n  switch (event.event) {\n    case 'Burn':\n      content = renderBurn(event.args);\n      break;\n    case 'Collect':\n      content = renderCollect(event.args);\n      break;\n    case 'Mint':\n      content = renderMint(event.args);\n      break;\n    case 'Swap':\n      content = renderSwap(event.args);\n      break;\n    default:\n      return;\n  }\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      className: \"pr-2\",\n      children: event.pairID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, i, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\nconst isSupportedEvent = event => {\n  return event.event === \"Mint\" || event.event === 'Swap' || event.event === 'Burn' || event.event === 'Collect';\n};\nconst cleanEvents = events => {\n  const eventsMap = events.reduce((acc, event) => {\n    acc[`${event.address}_${event.transactionHash}`] = event;\n    return acc;\n  }, {});\n  return Object.keys(eventsMap).map(k => eventsMap[k]).sort((a, b) => b.blockNumber - a.blockNumber || b.logIndex - a.logIndex);\n};\nconst eventsReducer = (state, action) => {\n  switch (action.type) {\n    case 'add':\n      return cleanEvents(state.concat(action.value));\n    default:\n      return;\n  }\n};\nconst EventsList = _ref2 => {\n  let {\n    events\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"py-6 mb-2\",\n    children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: events.filter(isSupportedEvent).map(renderEvent)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_c = EventsList;\nconst pairID = pair => `${pair.token0.symbol}/${pair.token1.symbol}`;\nconst addPairIDToEvents = (events, pair) => events.filter(ev => ev).map(ev => {\n  ev.pairID = pairID(pair);\n  return ev;\n});\nconst EventsFeed = _ref3 => {\n  _s();\n  let {\n    pairs\n  } = _ref3;\n  const metamaskContext = useContext(MetaMaskContext);\n  const [events, setEvents] = useReducer(eventsReducer, []);\n  useEffect(() => {\n    if (metamaskContext.status !== 'connected') {\n      return;\n    }\n    const pairContracts = pairs.map(pair => {\n      const contract = new ethers.Contract(pair.address, PoolABI, new ethers.providers.Web3Provider(window.ethereum));\n      subscribeToEvents(contract, event => setEvents({\n        type: 'add',\n        value: addPairIDToEvents([event], pair)\n      }));\n      getEvents(contract).then(events => setEvents({\n        type: 'add',\n        value: addPairIDToEvents(events, pair)\n      }));\n      return contract;\n    });\n    return () => {\n      pairContracts.forEach(pair => pair.removeAllListeners());\n    };\n  }, [metamaskContext.status, setEvents, pairs]);\n  return /*#__PURE__*/_jsxDEV(EventsList, {\n    events: events\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 11\n  }, this);\n};\n_s(EventsFeed, \"owk7AtOLD//iymwZuVj3u0ylCQY=\");\n_c2 = EventsFeed;\nexport default EventsFeed;\nvar _c, _c2;\n$RefreshReg$(_c, \"EventsList\");\n$RefreshReg$(_c2, \"EventsFeed\");","map":{"version":3,"names":["ethers","useContext","useEffect","useReducer","MetaMaskContext","jsxDEV","_jsxDEV","PoolABI","require","getEvents","pool","Promise","all","queryFilter","then","_ref","mints","swaps","resolve","concat","subscribeToEvents","callback","on","a","b","c","d","e","f","g","event","renderAmount","amount","utils","formatUnits","renderBurn","args","children","fileName","_jsxFileName","lineNumber","columnNumber","amount0","amount1","renderCollect","renderMint","tickLower","tickUpper","renderSwap","renderEvent","i","content","className","pairID","isSupportedEvent","cleanEvents","events","eventsMap","reduce","acc","address","transactionHash","Object","keys","map","k","sort","blockNumber","logIndex","eventsReducer","state","action","type","value","EventsList","_ref2","filter","_c","pair","token0","symbol","token1","addPairIDToEvents","ev","EventsFeed","_ref3","_s","pairs","metamaskContext","setEvents","status","pairContracts","contract","Contract","providers","Web3Provider","window","ethereum","forEach","removeAllListeners","_c2","$RefreshReg$"],"sources":["/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/src/components/EventsFeed.js"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useContext, useEffect, useReducer } from \"react\";\nimport { MetaMaskContext } from \"../contexts/MetaMask\";\n\nconst PoolABI = require('../abi/Pool.json');\n\nconst getEvents = (pool) => {\n  return Promise.all([\n    pool.queryFilter(\"Burn\", \"earliest\", \"latest\"),\n    pool.queryFilter(\"Collect\", \"earliest\", \"latest\"),\n    pool.queryFilter(\"Mint\", \"earliest\", \"latest\"),\n    pool.queryFilter(\"Swap\", \"earliest\", \"latest\"),\n  ]).then(([mints, swaps]) => {\n    return Promise.resolve((mints || []).concat(swaps || []))\n  })\n}\n\nconst subscribeToEvents = (pool, callback) => {\n  pool.on(\"Burn\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Collect\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Mint\", (a, b, c, d, e, f, g, event) => callback(event));\n  pool.on(\"Swap\", (a, b, c, d, e, f, g, event) => callback(event));\n}\n\nconst renderAmount = (amount) => {\n  return ethers.utils.formatUnits(amount);\n}\n\nconst renderBurn = (args) => {\n  return (\n    <span>\n      <strong>Burn</strong>\n      [amount0: {renderAmount(args.amount0)}, amount1: {renderAmount(args.amount1)}, amount: {renderAmount(args.amount)}]\n    </span>\n  );\n}\n\nconst renderCollect = (args) => {\n  return (\n    <span>\n      <strong>Collect</strong>\n      [amount0: {renderAmount(args.amount0)}, amount1: {renderAmount(args.amount1)}]\n    </span>\n  );\n}\n\nconst renderMint = (args) => {\n  return (\n    <span>\n      <strong>Mint</strong>\n      [range: [{args.tickLower}-{args.tickUpper}], amounts: [{renderAmount(args.amount0)}, {renderAmount(args.amount1)}]]\n    </span>\n  );\n}\n\nconst renderSwap = (args) => {\n  return (\n    <span>\n      <strong>Swap</strong>\n      [amount0: {renderAmount(args.amount0)}, amount1: {renderAmount(args.amount1)}]\n    </span>\n  );\n}\n\nconst renderEvent = (event, i) => {\n  let content;\n\n  switch (event.event) {\n    case 'Burn':\n      content = renderBurn(event.args);\n      break;\n\n    case 'Collect':\n      content = renderCollect(event.args);\n      break;\n\n    case 'Mint':\n      content = renderMint(event.args);\n      break;\n\n    case 'Swap':\n      content = renderSwap(event.args);\n      break;\n\n    default:\n      return;\n  }\n\n  return (\n    <tr key={i}>\n      <td className=\"pr-2\">{event.pairID}</td>\n      <td>{content}</td>\n    </tr>\n  )\n}\n\nconst isSupportedEvent = (event) => {\n  return event.event === \"Mint\" || event.event === 'Swap' || event.event === 'Burn' || event.event === 'Collect';\n}\n\nconst cleanEvents = (events) => {\n  const eventsMap = events.reduce((acc, event) => {\n    acc[`${event.address}_${event.transactionHash}`] = event;\n    return acc;\n  }, {});\n\n  return Object.keys(eventsMap)\n    .map(k => eventsMap[k])\n    .sort((a, b) => b.blockNumber - a.blockNumber || b.logIndex - a.logIndex);\n}\n\nconst eventsReducer = (state, action) => {\n  switch (action.type) {\n    case 'add':\n      return cleanEvents(state.concat(action.value));\n\n    default:\n      return;\n  }\n}\n\n\nconst EventsList = ({ events }) => {\n  return (\n    <table className=\"py-6 mb-2\">\n      <tbody>\n        {events.filter(isSupportedEvent).map(renderEvent)}\n      </tbody>\n    </table>\n  )\n}\n\nconst pairID = (pair) => `${pair.token0.symbol}/${pair.token1.symbol}`;\nconst addPairIDToEvents = (events, pair) => events\n  .filter(ev => ev)\n  .map(ev => { ev.pairID = pairID(pair); return ev });\n\nconst EventsFeed = ({ pairs }) => {\n  const metamaskContext = useContext(MetaMaskContext);\n  const [events, setEvents] = useReducer(eventsReducer, []);\n\n  useEffect(() => {\n    if (metamaskContext.status !== 'connected') {\n      return;\n    }\n\n    const pairContracts = pairs.map((pair) => {\n      const contract = new ethers.Contract(\n        pair.address,\n        PoolABI,\n        new ethers.providers.Web3Provider(window.ethereum)\n      );\n\n      subscribeToEvents(\n        contract,\n        event => setEvents({\n          type: 'add',\n          value: addPairIDToEvents([event], pair)\n        })\n      );\n      getEvents(contract)\n        .then(events => setEvents({\n          type: 'add',\n          value: addPairIDToEvents(events, pair)\n        }));\n\n      return contract;\n    });\n\n    return () => {\n      pairContracts.forEach((pair) => pair.removeAllListeners());\n    };\n  }, [metamaskContext.status, setEvents, pairs]);\n\n  return (<EventsList events={events} />);\n}\n\nexport default EventsFeed;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}