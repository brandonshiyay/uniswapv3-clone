{"ast":null,"code":"import _classCallCheck from \"/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport createGraph from 'ngraph.graph';\nimport path from 'ngraph.path';\nvar PathFinder = /*#__PURE__*/function () {\n  function PathFinder(pairs) {\n    var _this = this;\n    _classCallCheck(this, PathFinder);\n    this.graph = createGraph();\n    pairs.forEach(function (pair) {\n      _this.graph.addNode(pair.token0.address);\n      _this.graph.addNode(pair.token1.address);\n      _this.graph.addLink(pair.token0.address, pair.token1.address, pair.fee);\n      _this.graph.addLink(pair.token1.address, pair.token0.address, pair.fee);\n    });\n    this.finder = path.aStar(this.graph);\n  }\n  _createClass(PathFinder, [{\n    key: \"findPath\",\n    value: function findPath(fromToken, toToken) {\n      var _this2 = this;\n      return this.finder.find(fromToken, toToken).reduce(function (acc, node, i, orig) {\n        if (acc.length > 0) {\n          acc.push(_this2.graph.getLink(orig[i - 1].id, node.id).data);\n        }\n        acc.push(node.id);\n        return acc;\n      }, []).reverse();\n    }\n  }]);\n  return PathFinder;\n}();\nexport default PathFinder;","map":{"version":3,"names":["createGraph","path","PathFinder","pairs","_this","_classCallCheck","graph","forEach","pair","addNode","token0","address","token1","addLink","fee","finder","aStar","_createClass","key","value","findPath","fromToken","toToken","_this2","find","reduce","acc","node","i","orig","length","push","getLink","id","data","reverse"],"sources":["/home/brandon/security/learning/defi/uniswapv3-src/uniswapv3-code/ui/src/lib/pathFinder.js"],"sourcesContent":["import createGraph from 'ngraph.graph';\nimport path from 'ngraph.path';\n\nclass PathFinder {\n  constructor(pairs) {\n    this.graph = createGraph();\n\n    pairs.forEach((pair) => {\n      this.graph.addNode(pair.token0.address);\n      this.graph.addNode(pair.token1.address);\n      this.graph.addLink(pair.token0.address, pair.token1.address, pair.fee);\n      this.graph.addLink(pair.token1.address, pair.token0.address, pair.fee);\n    });\n\n    this.finder = path.aStar(this.graph);\n  }\n\n  findPath(fromToken, toToken) {\n    return this.finder.find(fromToken, toToken).reduce((acc, node, i, orig) => {\n      if (acc.length > 0) {\n        acc.push(this.graph.getLink(orig[i - 1].id, node.id).data);\n      }\n\n      acc.push(node.id);\n\n      return acc;\n    }, []).reverse();\n  }\n}\n\nexport default PathFinder;"],"mappings":";;AAAA,OAAOA,WAAW,MAAM,cAAc;AACtC,OAAOC,IAAI,MAAM,aAAa;AAAC,IAEzBC,UAAU;EACd,SAAAA,WAAYC,KAAK,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAH,UAAA;IACjB,IAAI,CAACI,KAAK,GAAGN,WAAW,EAAE;IAE1BG,KAAK,CAACI,OAAO,CAAC,UAACC,IAAI,EAAK;MACtBJ,KAAI,CAACE,KAAK,CAACG,OAAO,CAACD,IAAI,CAACE,MAAM,CAACC,OAAO,CAAC;MACvCP,KAAI,CAACE,KAAK,CAACG,OAAO,CAACD,IAAI,CAACI,MAAM,CAACD,OAAO,CAAC;MACvCP,KAAI,CAACE,KAAK,CAACO,OAAO,CAACL,IAAI,CAACE,MAAM,CAACC,OAAO,EAAEH,IAAI,CAACI,MAAM,CAACD,OAAO,EAAEH,IAAI,CAACM,GAAG,CAAC;MACtEV,KAAI,CAACE,KAAK,CAACO,OAAO,CAACL,IAAI,CAACI,MAAM,CAACD,OAAO,EAAEH,IAAI,CAACE,MAAM,CAACC,OAAO,EAAEH,IAAI,CAACM,GAAG,CAAC;IACxE,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,GAAGd,IAAI,CAACe,KAAK,CAAC,IAAI,CAACV,KAAK,CAAC;EACtC;EAACW,YAAA,CAAAf,UAAA;IAAAgB,GAAA;IAAAC,KAAA,WAAAC,SAEQC,SAAS,EAAEC,OAAO,EAAE;MAAA,IAAAC,MAAA;MAC3B,OAAO,IAAI,CAACR,MAAM,CAACS,IAAI,CAACH,SAAS,EAAEC,OAAO,CAAC,CAACG,MAAM,CAAC,UAACC,GAAG,EAAEC,IAAI,EAAEC,CAAC,EAAEC,IAAI,EAAK;QACzE,IAAIH,GAAG,CAACI,MAAM,GAAG,CAAC,EAAE;UAClBJ,GAAG,CAACK,IAAI,CAACR,MAAI,CAACjB,KAAK,CAAC0B,OAAO,CAACH,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,CAACK,EAAE,EAAEN,IAAI,CAACM,EAAE,CAAC,CAACC,IAAI,CAAC;QAC5D;QAEAR,GAAG,CAACK,IAAI,CAACJ,IAAI,CAACM,EAAE,CAAC;QAEjB,OAAOP,GAAG;MACZ,CAAC,EAAE,EAAE,CAAC,CAACS,OAAO,EAAE;IAClB;EAAC;EAAA,OAAAjC,UAAA;AAAA;AAGH,eAAeA,UAAU"},"metadata":{},"sourceType":"module"}